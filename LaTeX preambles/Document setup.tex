%Document setup
\documentclass[12pt, a4paper]{article}
\usepackage[a4paper, top=0.7in, bottom=0.7in, left=0.7in, right=0.7in]{geometry} %Margins

%Tables
\usepackage{multirow}
\usepackage{longtable}
\usepackage{array}
\usepackage{tablefootnote}
\usepackage{makecell}
\usepackage{booktabs}

%Table commands
\newcolumntype{P}[1]{>{\centering\arraybackslash}m{#1}}

%Graphics
\usepackage{tikz}  
\usetikzlibrary{matrix,chains,positioning,decorations.pathreplacing,arrows, arrows.meta,patterns,fadings,fit,backgrounds, intersections, external}
\tikzexternalize[prefix=figures/]
\usepackage{graphicx}
\usepackage{pgfplots}
\usepackage{callouts}
\usepackage{neuralnetwork}
\usepackage{xpatch}
 
%Graphics commands
\graphicspath{{/Users/adithyanarayanan/OneDrive/Documents/School/Grade 12/Extended Essay/Essay/Images/}} %Path of images to import from
\pgfplotsset{compat=newest, scaled x ticks=false}
\xpatchcmd{\linklayers}{\nn@lastnode}{\lastnode}{}{}%Neural Network options
\xpatchcmd{\linklayers}{\nn@thisnode}{\thisnode}{}{}%Neural Network options
\newsavebox{\largestimage}%Box to fix subfigures
\makeatletter 
\newenvironment{customlegend}[1][]{ %Adjust legends below bar charts
    \begingroup
    \let\addlegendimage=\pgfplots@addlegendimage
    \let\addlegendentry=\pgfplots@addlegendentry
    \pgfplots@init@cleared@structures
    \pgfplotsset{#1}%
}{
    \pgfplots@createlegend
    \endgroup
}
\makeatother

%Figure management
\usepackage{wrapfig}
\usepackage[export]{adjustbox}
\usepackage{float} %For the [H] option
\usepackage{adjustbox}

%Figure management commands
\restylefloat{table} %For the [H] option

%Caption management
\usepackage[justification=centering]{caption}
\usepackage{subcaption}

%Caption management commands
\captionsetup[figure]{font=footnotesize}
\captionsetup[table]{font=footnotesize, singlelinecheck=off} 

%Hyperlink management
\usepackage{color}
\usepackage[hidelinks]{hyperref}

%Hyperlink management commands
\hypersetup{
  colorlinks=false,
  linktoc=all,
  linkcolor=black,
  citecolor=black,
}

%Bibliography management
\usepackage{csquotes}
\usepackage[style=mla]{biblatex}
\addbibresource{/Users/adithyanarayanan/OneDrive/Documents/School/Grade 12/Extended Essay/Essay/Draft 2/EE 2 CS.bib}

%Miscellaneous non-text related
\usepackage{filecontents} %To create files and save them and to import them
\usepackage{pdflscape} %To convert certain pages to landscape mode. Pdf Lscape over lscape to be able to completely make a page landscape in the pdf file within itself.

%Miscellaneous text related
\usepackage{minted}%Inserting source code
\usepackage{censor} %For redactions
\usepackage[final]{microtype}
\usepackage{parskip}
\usepackage{setspace} %For setting spacing between
\usepackage{setspace}
\usepackage[normalem]{ulem} %Underlining
\usepackage{fancyhdr} %Nicer headers
\pagestyle{fancy} %Nicer headers
\usepackage{amsmath, amsfonts, mathtools, amsthm, amssymb, mathtools} %Math stuff
\usepackage{textcomp} %Not sure what this is for
\usepackage{ragged2e} %For non-justified text
\usepackage{gensymb} %Symbols such as celsius
\usepackage{titlesec} %Section formatting
\usepackage{enumitem} %Enumerate and itemize
\usepackage{color} %Highlighting
\usepackage{titling} %Subtitle to main title of document with extra option below
\usepackage{standalone} %Include standalone tikz diagrams
\usepackage{soul}

%Miscellaneous text related commands
\doublespacing % Sets document to be double spaced
\urlstyle{same}
\setcounter{biburllcpenalty}{7000}
\setcounter{biburlucpenalty}{8000}
\usemintedstyle{friendly} %Set style of source code inputs
\useunder{\uline}{\ul}{} %Underlining
\edef\svtheparindent{\the\parindent}
\newcommand{\subtitle}[1]{ %Adds subtitle to main title
  \posttitle{
    \par\end{center}
    \begin{center}\normalsize#1\end{center}
    \vskip2mm}
}
\makeatletter %Stops TOC from appearing twice in the header for fancyhdr
\renewcommand\tableofcontents{%
    \newpage
\section*{\contentsname
        \@mkboth{%
%          \MakeUppercase\contentsname}{\MakeUppercase\contentsname}}
           \MakeUppercase\contentsname}{}}
    \@starttoc{toc}%
    } 
\makeatother